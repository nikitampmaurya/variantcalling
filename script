#current directory: Desktop/Nikita/wellcome 

conda env create -n MOOC --file MOOC.yml #creating a new environment according to the specification mentioned in MOOC

conda activate MOOC #activating the environment 

unzip MOOC.yml #extract files in MOOC.yml

fastq-dump --split-files ERR5743893 #download the samples

mkdir QC_Reports #make a directory within wellcome directory

fastqc ERR5743893_1.fastq ERR5743893_2.fastq --outdir QC_Reports #run fastqc on samples and store output in QC_Reports

cd QC_Reports/ #enter QC_Report directory

multiqc . #to aggregates outputs of fastqc into a single report

mkdir Mapping #create a new directory

unzip MN908947.fasta.zip 

bwa index MN908947.fasta #indexing the ref genome

bwa mem MN908947.fasta ERR5743893_1.fastq ERR5743893_2.fastq > Mapping/ERR5743893.sam #now algin ref to sample

samtools view -@ 20 -S -b Mapping/ERR5743893.sam > Mapping/ERR5743893.bam #convert sam to bam

samtools sort -@ 8 -o Mapping/ERR5743893.sorted.bam Mapping/ERR5743893.bam #sort bam file by genomic coordinates

samtools index Mapping/ERR5743893.sorted.bam #indexing bam file

samtools faidx MN908947.fasta #indexing ref again to stores sequence names and their corresponding lengths.

freebayes -f MN908947.fasta Mapping/ERR5743893.sorted.bam  > ERR5743893.vcf #used to perform variant calling on sequencing data

bgzip ERR5743893.vcf #compress the file

tabix ERR5743893.vcf.gz #for indexing the vcf file

bcftools view -v snps ERR5743893.vcf.gz -o ERR5743893_snps.vcf #to extract snps

bcftools view -v indels ERR5743893.vcf.gz -o ERR5743893_indels.vcf #to extract indels

bcftools view -H ERR5743893_snps.vcf | wc -l #to count no of snps
bcftools view -H ERR5743893_indels.vcf | wc -l #to count no of indels
bcftools view -H ERR5743893.vcf.gz | wc -l #to count no of variants

______________________________________________________________________________________________________________________

conda create --name nextflow nextflow

conda activate nextflow




